@using genetrix.Models;
@model IEnumerable<genetrix.Models.Chat>


@{
    ViewBag.Title = "Chat";
    ViewBag.pTitle = "Chat";
    ViewBag.pageTitle = "Apps";
    ViewBag.pageImage = "~/assets/images/IU/client.png";
}
<link href="~/assets/libs/datatables.net-bs4/css/dataTables.bootstrap4.min.css" rel="stylesheet" type="text/css" />

<!-- Responsive datatable examples -->
<link href="~/assets/libs/datatables.net-responsive-bs4/css/responsive.bootstrap4.min.css" rel="stylesheet" type="text/css" />



<div class="row">
    <div class="col-lg-12">
        <div>

            <div class="float-end hidden">
                <form class="d-inline-flex mb-3">
                    <label class="form-check-label my-2 me-2" for="order-selectinput">Orders</label>
                    <select class="form-select" id="order-selectinput">
                        <option selected>All</option>
                        <option value="1">Active</option>
                        <option value="2">Unpaid</option>
                    </select>
                </form>

            </div>
            <button type="button" class="btn btn-success waves-effect waves-light mb-3"><i class="mdi mdi-chat-plus me-1"></i> Demarrer</button>
        </div>
        <div class="table-responsive mb-4">
            <table class="table table-centered datatable dt-responsive nowrap table-card-list" style="border-collapse: collapse; border-spacing: 0 12px; width: 100%;">
                <thead>
                    <tr class="bg-transparent">
                        <th style="width: 20px;">
                            <div class="form-check text-center font-size-16">
                                <input type="checkbox" class="form-check-input" id="ordercheck">
                                <label class="form-check-label" for="ordercheck"></label>
                            </div>
                        </th>
                        <th> @Html.DisplayNameFor(model => model.GetEmetteurFirme)</th>
                        <th> @Html.DisplayNameFor(model => model.DateHeure)</th>
                        <th> @Html.DisplayNameFor(model => model.Sujet)</th>
                        <th> @Html.DisplayNameFor(model => model.Statut)</th>
                        <th> @Html.DisplayNameFor(model => model.Situation)</th>
                        <th style="width: 120px;">Action</th>
                    </tr>
                </thead>
                <tbody>
                    @{
                        string statutClass = "", statutName = "", situationClass = "", situationName = "";
                        foreach (var ch in Model)
                        {
                            //statutClass = ch.Statut == StatutChat.Attente ? "bg-warning" : ch.Statut == StatutChat.Encours ? "bg-info" : "bg-danger";
                            statutClass = ch.GetStatutColor[1];
                            statutName = ch.GetStatutColor[0];
                            situationName = ch.GetSituationColor[0];
                            situationClass = ch.GetSituationColor[1];

                            <tr>
                                <td>
                                    <div class="form-check text-center font-size-16">
                                        <input type="checkbox" class="form-check-input" id="ordercheck1">
                                        <label class="form-check-label" for="ordercheck1"></label>
                                    </div>
                                </td>

                                <td>
                                    @Html.DisplayFor(modelItem => ch.GetEmetteurFirme)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => ch.DateHeure)
                                </td>

                                <td>
                                    @Html.DisplayFor(modelItem => ch.Sujet)
                                </td>
                                <td>
                                    <div class="badge bg-pill bg-@statutClass font-size-12">
                                        @statutName
                                    </div>
                                </td>
                                 <td>
                                    <div class="badge bg-pill bg-@situationClass font-size-12">
                                        @situationName
                                    </div>
                                </td>

                                <td>
                                    <a href="@Url.Content("~/chats/Details?id="+ch.ChatId)" class="px-3 text-primary" title="Ouvrir"><i class="uil uil-pen font-size-18"></i></a>
                                    <a href="@Url.Content("~/chats/delete?id="+ch.ChatId)" class="px-3 text-danger"><i class="uil uil-trash-alt font-size-18"></i></a>
                                </td>
                            </tr>
                        }
                    }
                </tbody>
            </table>
        </div>
        <!-- end table -->
    </div>
</div>
<!-- end row -->
<!-- JAVASCRIPT -->
<script src="~/assets/libs/jquery/jquery.min.js"></script>
<script src="~/assets/libs/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="~/assets/libs/metismenu/metisMenu.min.js"></script>
<script src="~/assets/libs/simplebar/simplebar.min.js"></script>
<script src="~/assets/libs/node-waves/waves.min.js"></script>
<script src="~/assets/libs/waypoints/lib/jquery.waypoints.min.js"></script>
<script src="~/assets/libs/jquery.counterup/jquery.counterup.min.js"></script>

<!-- Required datatable js -->
<script src="~/assets/libs/datatables.net/js/jquery.dataTables.min.js"></script>
<script src="~/assets/libs/datatables.net-bs4/js/dataTables.bootstrap4.min.js"></script>

<!-- Responsive examples -->
<script src="~/assets/libs/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
<script src="~/assets/libs/datatables.net-responsive-bs4/js/responsive.bootstrap4.min.js"></script>

<!-- init js -->
<script src="~/assets/js/pages/ecommerce-datatables.init.js"></script>

<script src="~/assets/js/app.js"></script>

